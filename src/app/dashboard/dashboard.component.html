<div class="app-container">
  <!-- Dashboard View -->
  <div class="dashboard-container" *ngIf="isLoggedIn">
    <div class="toolbar">
      <div class="toolbar-left">
        <h2>Dashboard</h2>
      </div>
      <div class="toolbar-right">
        <button class="btn btn-primary" (click)="showAddDeviceDialog()">
          <i class="icon-plus"></i> Add Device
        </button>
        <button class="btn btn-danger" (click)="logout()">
          <i class="icon-logout"></i> Logout
        </button>
      </div>
    </div>

    <div class="devices-grid">
      <div class="device-card" *ngFor="let device of devices">
        <div class="card-header">
          <h3>Device {{ device.id }}</h3>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <!-- You can implement your own chart here or use a different library -->
            <div class="chart-placeholder"></div>
          </div>
          <div class="device-stats">
            <span>Temperature: {{ device.latestTemp }}°C</span>
            <span>CO₂: {{ device.latestCo2 }} ppm</span>
          </div>
        </div>
        <div class="card-footer">
          <button class="btn btn-secondary" (click)="navigateToDevice(device.id)">
            <i class="icon-search"></i> View Details
          </button>
        </div>
      </div>
    </div>

    <!-- Add Device Dialog -->
    <div class="dialog-overlay" *ngIf="displayAddDeviceDialog">
      <div class="dialog">
        <div class="dialog-header">
          <h3>Add New Device</h3>
          <button class="close-btn" (click)="displayAddDeviceDialog = false">&times;</button>
        </div>
        <div class="dialog-body">
          <div class="form-group">
            <label for="deviceId">Device ID</label>
            <input 
              id="deviceId" 
              type="text" 
              class="form-control" 
              [(ngModel)]="newDeviceCode" 
              placeholder="Enter 6-digit device ID"
            >
          </div>
        </div>
        <div class="dialog-footer">
          <button class="btn btn-text" (click)="displayAddDeviceDialog = false">
            Cancel
          </button>
          <button 
            class="btn btn-primary" 
            (click)="addDevice()" 
            [disabled]="!newDeviceCode || loading"
          >
            Add
          </button>
        </div>
      </div>
    </div>
  </div>
</div>