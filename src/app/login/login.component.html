<div class="login-container">
    <p-card header="Login" styleClass="p-card-lg">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="field">
          <label for="username">Username</label>
          <input 
            id="username" 
            type="text" 
            pInputText 
            formControlName="username"
            [ngClass]="{ 'p-invalid': loginForm.get('username')?.invalid && loginForm.get('username')?.touched }"
          >
          @if (loginForm.get('username')?.invalid && loginForm.get('username')?.touched) {
            <small class="p-error">Username is required</small>
          }
        </div>
  
        <div class="field">
          <label for="password">Password</label>
          <input 
            id="password" 
            type="password" 
            pPassword 
            formControlName="password"
            [ngClass]="{ 'p-invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched }"
          >
          @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
            <small class="p-error">Password is required</small>
          }
        </div>
  
        <div class="flex justify-content-between align-items-center mt-4">
          <button 
            pButton 
            type="submit" 
            label="Login" 
            [disabled]="loginForm.invalid || loading"
          ></button>
          <a routerLink="/register">Register</a>
        </div>
  
        @if (loading) {
          <p-progressSpinner styleClass="w-2rem h-2rem"></p-progressSpinner>
        }
      </form>
    </p-card>
  </div>